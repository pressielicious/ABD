<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Duty Roster</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  select, button { margin: 5px 0; padding: 5px; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
  .team-name { cursor: pointer; color: blue; text-decoration: underline; }
  .staff-list { display: none; margin-top: 5px; text-align: left; }
</style>
</head>
<body>

<h2>Duty Roster Viewer</h2>

<label>Company:</label>
<select id="companySelect">
  <option value="">--Select Company--</option>
  <option value="BBCT">BBCT</option>
  <option value="BBSS">BBSS</option>
  <option value="ABMCT">ABMCT</option>
  <option value="ABMSS">ABMSS</option>
  <option value="BBPB">BBPB</option>
</select>

<br>

<label>Team:</label>
<select id="teamSelect">
  <option value="">--Select Team--</option>
</select>

<br>

<label>Start Date:</label>
<input type="date" id="startDate">

<br>
<button onclick="showSchedule()">Show Schedule</button>

<div id="schedule"></div>

<script>
// Sample team data
const teams = {
  BBCT: { Team1: ["Alice","Bob","Charlie"], Team2: ["David","Eve","Frank"] },
  BBSS: { Team1: ["Grace","Heidi","Ivan"], Team2: ["Judy","Ken","Leo"] },
  ABMCT: { Team1: ["Mia","Nina","Oscar"], Team2: ["Paul","Quinn","Rita"] },
  ABMSS: { Team1: ["Sam","Tina","Uma"], Team2: ["Victor","Wendy","Xander"] },
  BBPB: { Team1: ["Yara","Zane","Alan"], Team2: ["Betty","Carl","Diana"] },
};

// Populate team dropdown based on selected company
document.getElementById("companySelect").addEventListener("change", function() {
  const company = this.value;
  const teamSelect = document.getElementById("teamSelect");
  teamSelect.innerHTML = '<option value="">--Select Team--</option>';
  if(company && teams[company]) {
    Object.keys(teams[company]).forEach(team => {
      const option = document.createElement("option");
      option.value = team;
      option.textContent = team;
      teamSelect.appendChild(option);
    });
  }
});

// Show schedule
function showSchedule() {
  const company = document.getElementById("companySelect").value;
  const team = document.getElementById("teamSelect").value;
  const startDate = document.getElementById("startDate").value;
  
  if(!company || !team || !startDate) {
    alert("Please select company, team, and start date!");
    return;
  }
  
  const scheduleDiv = document.getElementById("schedule");
  scheduleDiv.innerHTML = "";
  
  const table = document.createElement("table");
  const headerRow = document.createElement("tr");
  
  for(let i=0; i<4; i++) {
    const date = new Date(startDate);
    date.setDate(date.getDate() + i);
    const th = document.createElement("th");
    th.textContent = date.toDateString();
    headerRow.appendChild(th);
  }
  
  table.appendChild(headerRow);
  
  const teamRow = document.createElement("tr");
  for(let i=0; i<4; i++) {
    const td = document.createElement("td");
    const teamName = document.createElement("div");
    teamName.textContent = team;
    teamName.className = "team-name";
    
    const staffList = document.createElement("div");
    staffList.className = "staff-list";
    staffList.innerHTML = teams[company][team].join("<br>");
    
    teamName.addEventListener("click", () => {
      staffList.style.display = staffList.style.display === "none" ? "block" : "none";
    });
    
    td.appendChild(teamName);
    td.appendChild(staffList);
    teamRow.appendChild(td);
  }
  
  table.appendChild(teamRow);
  scheduleDiv.appendChild(table);
}
</script>

</body>
</html>
